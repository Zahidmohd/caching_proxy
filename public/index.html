<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Real-time monitoring dashboard for caching proxy server">
    <title>Caching Proxy Dashboard - Real-time Monitoring</title>
    <link rel="stylesheet" href="dashboard.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="dashboard">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1 class="glow">ğŸš€ Caching Proxy Dashboard</h1>
                <div class="header-actions">
                    <span class="status-indicator" id="status">
                        <span class="status-dot"></span>
                        <span class="status-text">Live</span>
                    </span>
                    <button class="btn btn-small" onclick="refreshDashboard()" title="Refresh now">
                        ğŸ”„ Refresh
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Stats Cards -->
            <section class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">ğŸ“Š</div>
                    <div class="stat-content">
                        <div class="stat-label">Total Requests</div>
                        <div class="stat-value" id="totalRequests">0</div>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">âœ¨</div>
                    <div class="stat-content">
                        <div class="stat-label">Cache Hit Rate</div>
                        <div class="stat-value" id="hitRate">0%</div>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">ğŸ’¾</div>
                    <div class="stat-content">
                        <div class="stat-label">Cache Size</div>
                        <div class="stat-value" id="cacheSize">0 MB</div>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">âš¡</div>
                    <div class="stat-content">
                        <div class="stat-label">Avg Response</div>
                        <div class="stat-value" id="avgResponse">0ms</div>
                    </div>
                </div>
            </section>

            <!-- Two Column Layout -->
            <div class="two-column">
                <!-- Left Column -->
                <div class="column">
                    <!-- Performance Section -->
                    <section class="section">
                        <div class="section-header">
                            <h2>ğŸ“ˆ Performance Metrics</h2>
                        </div>
                        <div class="section-content">
                            <div class="perf-row">
                                <span class="perf-label">ğŸ’š Cache Hits</span>
                                <span class="perf-value" id="cacheHits">0</span>
                            </div>
                            <div class="perf-row">
                                <span class="perf-label">âŒ Cache Misses</span>
                                <span class="perf-value" id="cacheMisses">0</span>
                            </div>
                            <div class="perf-row">
                                <span class="perf-label">ğŸš€ Cache Speedup</span>
                                <span class="perf-value highlight" id="speedup">0x</span>
                            </div>
                            <div class="perf-row">
                                <span class="perf-label">âš¡ Hit Response Time</span>
                                <span class="perf-value" id="hitTime">0ms</span>
                            </div>
                            <div class="perf-row">
                                <span class="perf-label">ğŸŒ Miss Response Time</span>
                                <span class="perf-value" id="missTime">0ms</span>
                            </div>
                        </div>
                    </section>

                    <!-- Bandwidth Section -->
                    <section class="section">
                        <div class="section-header">
                            <h2>ğŸ“¡ Bandwidth Stats</h2>
                        </div>
                        <div class="section-content">
                            <div class="perf-row">
                                <span class="perf-label">ğŸ“¥ From Origin</span>
                                <span class="perf-value" id="bandwidthOrigin">0 MB</span>
                            </div>
                            <div class="perf-row">
                                <span class="perf-label">ğŸ“¤ Total Served</span>
                                <span class="perf-value" id="bandwidthServed">0 MB</span>
                            </div>
                            <div class="perf-row">
                                <span class="perf-label">ğŸ’° Bandwidth Saved</span>
                                <span class="perf-value highlight" id="bandwidthSaved">0 MB</span>
                            </div>
                            <div class="perf-row">
                                <span class="perf-label">ğŸ“Š Efficiency</span>
                                <span class="perf-value" id="bandwidthEfficiency">0%</span>
                            </div>
                        </div>
                    </section>

                    <!-- Server Info -->
                    <section class="section">
                        <div class="section-header">
                            <h2>ğŸ–¥ï¸ Server Information</h2>
                        </div>
                        <div class="section-content">
                            <div class="perf-row">
                                <span class="perf-label">ğŸ”Œ Port</span>
                                <span class="perf-value" id="serverPort">-</span>
                            </div>
                            <div class="perf-row">
                                <span class="perf-label">ğŸŒ Origin</span>
                                <span class="perf-value small" id="serverOrigin" title="">-</span>
                            </div>
                            <div class="perf-row">
                                <span class="perf-label">â±ï¸ Uptime</span>
                                <span class="perf-value" id="serverUptime">-</span>
                            </div>
                        </div>
                    </section>

                    <!-- Top URLs -->
                    <section class="section">
                        <div class="section-header">
                            <h2>ğŸ”¥ Top Requested URLs</h2>
                        </div>
                        <div class="section-content">
                            <div class="top-urls" id="topUrls">
                                <div class="empty-state-small">
                                    <span>No data available yet</span>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>

                <!-- Right Column -->
                <div class="column">
                    <!-- Cache Entries -->
                    <section class="section">
                        <div class="section-header">
                            <h2>ğŸ’¾ Cached Entries</h2>
                            <div class="section-actions">
                                <span class="entry-count" id="entryCount">0 entries</span>
                                <button class="btn btn-small btn-danger" onclick="confirmClearCache()" title="Clear all cached entries">
                                    ğŸ—‘ï¸ Clear All
                                </button>
                            </div>
                        </div>
                        <div class="section-content">
                            <div class="search-box">
                                <input 
                                    type="text" 
                                    id="searchCache" 
                                    placeholder="ğŸ” Search cached URLs..." 
                                    onkeyup="filterCache()"
                                    autocomplete="off"
                                >
                            </div>
                            <div class="cache-list" id="cacheList">
                                <div class="empty-state">
                                    <div class="empty-icon">ğŸ“­</div>
                                    <div class="empty-text">No Cached Entries</div>
                                    <div class="empty-subtext">Make requests through the proxy to see cached entries appear here in real-time</div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-content">
                <span>ğŸ• Last updated: <span id="lastUpdated">-</span></span>
                <span>ğŸ”„ Auto-refresh: <span id="autoRefresh" class="status-active">ON</span> (every 5s)</span>
            </div>
        </footer>
    </div>

    <script src="dashboard.js"></script>
</body>
</html>
